from dash import Dash, html, dcc
import pandas as pd
import plotly.graph_objects as go
import numpy as np
from datetime import datetime, timedelta, date
import json
import ast
import glob
import os
import re
import csv
import pickle
import re
import plotly.io as pio
pio.templates[pio.templates.default].layout.colorway = ['#636EFA', '#EF553B', '#00CC96', '#AB63FA', '#FFA15A', '#19D3F3', '#FF6692', '#B6E880', '#FF97FF', '#FECB52', '#17BECF']

app = Dash(__name__)

# assume you have a "long-form" data frame
# see https://plotly.com/python/px-arguments/ for more options
new_df = pd.read_csv("aws-time-lat-long-11.csv")
dates = new_df['ts_str'].unique()
disease_type = ['COPD', 'influenza', 'bronchitis',
       'nasopharyngitis', 'pneumonia', 'asthma', 'tonsilitis',
       'bronchiectasis', 'sinusitis', 'bronchiolitis', 'covid']

fig_dict = {
    "data": [],
    "layout": {},
    "frames": []
}

# fill in most of layout
fig_dict["layout"]["updatemenus"] = [
    {
        "buttons": [
            {
                "args": [None, {"frame": {"duration": 1000, "redraw": True},
                                "fromcurrent": True, "transition": {"duration": 100,
                                                                    "easing": "quadratic-in-out"}}],
                "label": "Play",
                "method": "animate"
            },
            {
                "args": [[None], {"frame": {"duration": 0, "redraw": False},
                                  "mode": "immediate",
                                  "transition": {"duration": 0}}],
                "label": "Pause",
                "method": "animate"
            }
        ],
        "direction" : "left",
        "pad": {"r": 15, "t": 30},
        "type": "buttons",
        "x": 0.1,
        "xanchor": "right",
        "y": 0,
        "yanchor": "top"
    }
]

sliders_dict = {
    "active": 0,
    "yanchor": "top",
    "xanchor": "left",
    "currentvalue": {
        "font": {"size": 16},
        "prefix": "Date:",
        "visible": True,
        "xanchor": "right"
    },
    "transition": {"duration": 100, "easing": "cubic-in-out"},
    "pad": {"b": 5, "t": 10},
    "len": 0.9,
    "x": 0.1,
    "y": 0,
    "steps": []
}

# make data
date = "1/1/2017"

for i in disease_type:
    dataset_by_year = new_df[new_df['ts_str'] == date]
    dataset_by_year_disease = dataset_by_year[dataset_by_year['Type'] == i]
    data_dict = {
        "type":'scattermapbox',
        "lat":dataset_by_year_disease.iloc[0:len(dataset_by_year_disease)]['Lat'].to_numpy(),
        "lon":dataset_by_year_disease.iloc[0:len(dataset_by_year_disease)]['Long'].to_numpy(),
        "name":i,
        "mode":'markers',
        "marker":dict(size=10),
    }
    fig_dict["data"].append(data_dict)

for day in dates:
    frame = {"data": [], "name": str(day)}
    for i in disease_type:
        dataset_by_year = new_df[new_df['ts_str'] == day]
        dataset_by_year_disease = dataset_by_year[dataset_by_year['Type'] == i]        
        data_dict = {
            "type":'scattermapbox',
            "lat":dataset_by_year_disease.iloc[0:len(dataset_by_year_disease)]['Lat'].to_numpy(),
            "lon":dataset_by_year_disease.iloc[0:len(dataset_by_year_disease)]['Long'].to_numpy(),
            "name":i,
            "mode":'markers',
            "marker":dict(size=10),
        }
        frame["data"].append(data_dict)
    fig_dict["frames"].append(frame)
    slider_step = {"args": [
        [day],
        {"frame": {"duration": 1000, "redraw": True},
         "mode": "immediate",
         "transition": {"duration": 100}}
    ],
        "label": day,
        "method": "animate"}
    sliders_dict["steps"].append(slider_step)
                
fig_dict["layout"]["sliders"] = [sliders_dict]


fig_dict["layout"]["mapbox"] = dict(bearing=0,
                              center=dict(lat=13.61,
                              lon=100.602),
                              pitch=0,
                              zoom=9.5,
                              style='carto-positron',
                              uirevision='center')

fig = go.Figure(fig_dict)

fig.update_layout(
    mapbox = {
        'layers': [{'source': {
                'type': "FeatureCollection",
                'features': [{
                    'type': "Feature",
                    'geometry': {
                        'type': "MultiPolygon",
                        'coordinates': [[[
                            [100.552,13.619],[100.559,13.622],[100.562,13.63],[100.568,13.636],[100.573,13.632],[100.589,13.63],[100.594,13.646],[100.593,13.662],[100.599,13.659],[100.6,13.656],[100.606,13.658],[100.606,13.656],[100.614,13.653],[100.617,13.653],[100.618,13.655],[100.629,13.65],[100.629,13.648],[100.636,13.648],[100.642,13.654],[100.644,13.653],[100.639,13.645],[100.636,13.643],[100.636,13.641],[100.633,13.639],[100.628,13.628],[100.644,13.62],[100.661,13.616],[100.663,13.613],[100.669,13.613],[100.667,13.604],[100.672,13.599],[100.672,13.592],[100.675,13.591],[100.673,13.583],[100.678,13.585],[100.679,13.584],[100.687,13.585],[100.688,13.583],[100.698,13.585],[100.697,13.58],[100.699,13.578],[100.698,13.575],[100.702,13.564],[100.702,13.555],[100.706,13.548],[100.706,13.543],[100.702,13.538],[100.701,13.531],[100.747,13.523],[100.776,13.52],[100.776,13.518],[100.779,13.517],[100.779,13.515],[100.783,13.515],[100.784,13.513],[100.782,13.512],[100.782,13.51],[100.784,13.509],[100.78,13.501],[100.779,13.492],[100.683,13.505],[100.66,13.512],[100.634,13.517],[100.618,13.525],[100.585,13.55],[100.58,13.555],[100.577,13.562],[100.578,13.57],[100.59,13.587],[100.593,13.595],[100.594,13.6],[100.591,13.608],[100.583,13.612],[100.566,13.612],[100.552,13.619]
                        ]]]
                    }
                }]
            }, 'type': "line", 'below': "traces", 'color': "grey"}, 
            {'source': {
                'type': "FeatureCollection",
                'features': [{
                    'type': "Feature",
                    'geometry': {
                        'type': "MultiPolygon",
                        'coordinates': [[[
                            [100.762311,13.5589755],[100.7627723,13.5589364],[100.762857,13.5589652],[100.7631469,13.5601748],[100.7634622,13.5616148],[100.7636738,13.5626598],[100.7639173,13.5635485],[100.7640568,13.5640586],[100.7643065,13.5651653],[100.7644419,13.5658256],[100.7646768,13.5668829],[100.7650387,13.5682138],[100.7653476,13.5695571],[100.7656439,13.5707543],[100.7658893,13.5716984],[100.7661771,13.5729018],[100.7663782,13.5737081],[100.7664247,13.5739179],[100.7664268,13.5741504],[100.7665453,13.5745083],[100.7666934,13.5750616],[100.7668098,13.5755491],[100.7669622,13.5760654],[100.7670997,13.5765488],[100.7671971,13.5770178],[100.7673262,13.5776431],[100.7674256,13.5781573],[100.7675653,13.5787765],[100.7676732,13.5791961],[100.7678023,13.5797844],[100.7678467,13.5801114],[100.7679102,13.5803644],[100.7679695,13.5805187],[100.7681472,13.5807881],[100.768308,13.5810082],[100.7684837,13.5813147],[100.7688053,13.5819153],[100.7689132,13.5820614],[100.7690042,13.5821293],[100.7691841,13.5822506],[100.7694338,13.5823987],[100.7696263,13.5825571],[100.7697237,13.5826682],[100.7697978,13.5828327],[100.7698549,13.5829808],[100.769876,13.5830878],[100.7698718,13.5833387],[100.7698231,13.5839023],[100.7698083,13.5840792],[100.769821,13.5842335],[100.7698507,13.5843692],[100.769929,13.5845502],[100.7701194,13.5848526],[100.7705066,13.5855375],[100.7705786,13.5857473],[100.7706061,13.5859386],[100.7706124,13.5861114],[100.7705447,13.5864611],[100.7704707,13.5868786],[100.7703945,13.5873003],[100.7702767,13.5875793],[100.7701677,13.5877891],[100.7701053,13.5879402],[100.7700937,13.5881922],[100.7701349,13.5884329],[100.7701593,13.5885357],[100.7702079,13.588654],[100.7703508,13.5889306],[100.7704322,13.5890705],[100.7704851,13.5891229],[100.7707761,13.5892371],[100.7709909,13.589342],[100.7711052,13.5894273],[100.7712205,13.5895569],[100.7713707,13.589741],[100.7715612,13.5899878],[100.7718066,13.5903468],[100.7718923,13.5905144],[100.7720817,13.5910461],[100.7723388,13.5917433],[100.7725293,13.5923882],[100.7726827,13.5928427],[100.7728848,13.5934567],[100.7730245,13.5939174],[100.7730922,13.5940573],[100.7731504,13.5941323],[100.773217,13.5941817],[100.7733144,13.5942486],[100.7734265,13.5943226],[100.7735016,13.5943771],[100.7735503,13.5944367],[100.7737111,13.5947442],[100.773873,13.5950199],[100.7740296,13.595316],[100.774182,13.5954765],[100.7743724,13.5956986],[100.7746052,13.5960277],[100.7747606,13.59634],[100.7767487,13.5960586],[100.7775143,13.5958647],[100.7782735,13.5955708],[100.7793852,13.594959],[100.7795555,13.5954732],[100.7796199,13.5958695],[100.7795877,13.5963596],[100.7795555,13.5969332],[100.7794769,13.5975021],[100.7794589,13.5976319],[100.779416,13.5982054],[100.7794697,13.5988832],[100.7796091,13.5995193],[100.779813,13.6000407],[100.780049,13.6003119],[100.780564,13.6006769],[100.7808644,13.6009584],[100.7810897,13.6013025],[100.7813365,13.6015528],[100.7816476,13.6016884],[100.7819373,13.6017614],[100.7821841,13.6018656],[100.7823128,13.6020533],[100.7823665,13.6023975],[100.7825274,13.603336],[100.7825274,13.6036488],[100.7823986,13.6038782],[100.7823772,13.6040972],[100.7824308,13.6043579],[100.7825596,13.604556],[100.7827152,13.6046496],[100.7826701,13.6049759],[100.7825578,13.6051809],[100.7824733,13.6053891],[100.7825224,13.6055343],[100.7829437,13.6057552],[100.7830495,13.6059519],[100.7831926,13.6062975],[100.7832355,13.6066937],[100.7831497,13.6071317],[100.7830746,13.6075384],[100.7831279,13.607743],[100.7832033,13.6078512],[100.7834286,13.6081873],[100.783745,13.608599],[100.7839825,13.6088997],[100.7841771,13.6090712],[100.7842043,13.6092026],[100.7841389,13.6093776],[100.7840321,13.609639],[100.7840849,13.6098475],[100.7843939,13.610167],[100.7844668,13.6103841],[100.7844157,13.6105937],[100.7842918,13.6109512],[100.7845145,13.6114487],[100.7845444,13.6116885],[100.7844859,13.6120057],[100.7847697,13.6123142],[100.7850379,13.6127104],[100.7854242,13.6133987],[100.785628,13.6137115],[100.7856709,13.6140034],[100.7857782,13.6141494],[100.786025,13.6145352],[100.7862932,13.6149628],[100.7862718,13.6151713],[100.7861752,13.6153694],[100.7862288,13.6156405],[100.7863469,13.6158804],[100.7862932,13.6160368],[100.786143,13.6162453],[100.7861537,13.6164956],[100.7860357,13.6168814],[100.7859606,13.6171004],[100.7854671,13.6175592],[100.7849628,13.6179971],[100.7849414,13.6181431],[100.7842025,13.6205371],[100.7837044,13.6231661],[100.783707,13.6255311],[100.7839807,13.6263616],[100.7845177,13.6272004],[100.7847197,13.6278075],[100.7846896,13.6285412],[100.7846979,13.6289567],[100.7846597,13.6292009],[100.7848093,13.6296211],[100.784654,13.6297268],[100.7847911,13.630562],[100.7846942,13.631204],[100.7844114,13.631846],[100.7835669,13.6334237],[100.7832314,13.6345839],[100.7830187,13.6358634],[100.7826863,13.6385641],[100.7825517,13.6415662],[100.7824378,13.643263],[100.7826817,13.6445568],[100.7826543,13.6454207],[100.7821134,13.6474266],[100.7826526,13.6479115],[100.7833769,13.6485663],[100.7835631,13.6487554],[100.7840552,13.6492601],[100.7842343,13.6494364],[100.7844992,13.6497055],[100.7850391,13.6502415],[100.7852197,13.6504417],[100.7853604,13.6506645],[100.7854478,13.6508508],[100.7854754,13.6509307],[100.7855232,13.6510694],[100.7856227,13.651357],[100.7856993,13.6515704],[100.7857288,13.6516523],[100.7858253,13.6519199],[100.7859069,13.6521462],[100.7867337,13.6545631],[100.786893,13.6552854],[100.7869932,13.6557398],[100.7870859,13.6561605],[100.7871909,13.6563595],[100.7873285,13.6565467],[100.7875647,13.6568538],[100.787636,13.6569465],[100.7879535,13.6573592],[100.7882097,13.6577176],[100.7883497,13.6579133],[100.788763,13.6584115],[100.7888638,13.6585426],[100.7893191,13.6591655],[100.789611,13.6595489],[100.7897545,13.6597375],[100.7898738,13.6598942],[100.7901071,13.6602008],[100.7902969,13.6604502],[100.7908229,13.6611415],[100.7909999,13.6613742],[100.791404,13.6619052],[100.7919436,13.6626197],[100.7919837,13.6626728],[100.792247,13.6630216],[100.7922781,13.6630628],[100.7923116,13.6631075],[100.7924857,13.6633393],[100.7929659,13.6640458],[100.7930622,13.6642002],[100.7932113,13.6644392],[100.7934387,13.6648178],[100.7934844,13.6648939],[100.7935512,13.6650134],[100.7936498,13.6651898],[100.7936942,13.6652651],[100.7937766,13.6654054],[100.7938968,13.6656099],[100.7940137,13.6658089],[100.7921362,13.6709036],[100.790645,13.6772312],[100.7894112,13.6766526],[100.7883061,13.6761001],[100.7872493,13.6758916],[100.7864607,13.6760219],[100.7852269,13.6760271],[100.7846207,13.6761418],[100.7837356,13.6760376],[100.783226,13.6758916],[100.7817025,13.6757457],[100.7803185,13.6755841],[100.7797284,13.6754694],[100.7789399,13.6752818],[100.7784679,13.675042],[100.7776256,13.6749482],[100.7763704,13.6747814],[100.7749971,13.6744739],[100.7742246,13.6741559],[100.7736399,13.6738588],[100.772744,13.6735461],[100.7719823,13.673421],[100.7703461,13.6736242],[100.7694181,13.6738484],[100.7689889,13.6739005],[100.768313,13.6740412],[100.767798,13.6743279],[100.7671972,13.6744843],[100.7661297,13.6745364],[100.7648208,13.6745937],[100.7637533,13.6746771],[100.763158,13.6747472],[100.7631667,13.6747842],[100.7637902,13.6766903],[100.7652451,13.6793662],[100.7673366,13.6822691],[100.7707791,13.687583],[100.7721432,13.6903597],[100.7730525,13.6925811],[100.7737695,13.6936625],[100.7755467,13.6963422],[100.7763781,13.6975664],[100.7780149,13.7004188],[100.7785475,13.7011256],[100.7802882,13.7023624],[100.7807589,13.7026418],[100.781868,13.7030505],[100.7823556,13.703335],[100.783328,13.7041293],[100.7852175,13.7062619],[100.7854445,13.70647],[100.7839769,13.7068823],[100.7838052,13.7069918],[100.782735,13.7081296],[100.782496,13.7084524],[100.7811685,13.7097011],[100.7810752,13.7099207],[100.7810721,13.7101143],[100.7824763,13.7147903],[100.7830972,13.7166881],[100.7878065,13.7166497],[100.7883712,13.7166451],[100.7920102,13.7154848],[100.7973896,13.7134213],[100.802421,13.7116466],[100.8080291,13.7093748],[100.8245177,13.7033507],[100.8287253,13.7016981],[100.8290496,13.7015706],[100.8593949,13.6896358],[100.8592451,13.6884062],[100.8590841,13.6879371],[100.858773,13.6874159],[100.8586872,13.6870719],[100.8588481,13.685894],[100.8586764,13.6844659],[100.8587408,13.683559],[100.8587086,13.6830899],[100.8573675,13.680244],[100.8573353,13.6798062],[100.8581722,13.6779089],[100.8592987,13.6744062],[100.8594489,13.6730927],[100.8591646,13.6703301],[100.8588052,13.6699028],[100.8579791,13.6694545],[100.8570188,13.6692252],[100.8564073,13.6691157],[100.8562303,13.6690219],[100.8560854,13.6688238],[100.8559513,13.6683964],[100.8555543,13.6678387],[100.8543017,13.6668952],[100.8541435,13.6663218],[100.8537036,13.6655191],[100.853371,13.66456],[100.8531001,13.6632803],[100.852915,13.6629206],[100.8525476,13.6626079],[100.8517174,13.6620488],[100.8513701,13.6618755],[100.8511501,13.6617504],[100.8507103,13.6612708],[100.8498359,13.6599207],[100.8497554,13.6596757],[100.8495676,13.6578774],[100.8493906,13.6571319],[100.848704,13.6554691],[100.848248,13.6551563],[100.8481246,13.6550051],[100.8478081,13.6539834],[100.8471268,13.6538531],[100.8469176,13.6531389],[100.8468962,13.6522945],[100.8472073,13.6516272],[100.8473897,13.6505742],[100.848248,13.6491146],[100.8485484,13.6482493],[100.848307,13.6471806],[100.8479905,13.6467375],[100.8478939,13.6461119],[100.8475292,13.644694],[100.8464295,13.6428225],[100.8461773,13.6425827],[100.8459467,13.6424889],[100.844965,13.6425097],[100.8434522,13.6423586],[100.8415908,13.6416339],[100.8405662,13.640951],[100.840373,13.6406904],[100.8403999,13.6405079],[100.840888,13.6397364],[100.8412421,13.6388241],[100.8414245,13.6374061],[100.8415049,13.6371767],[100.8415532,13.6358421],[100.8417034,13.6346014],[100.8419019,13.6342156],[100.8419234,13.6336369],[100.8419877,13.6334909],[100.8423418,13.6333502],[100.8423954,13.6331782],[100.842374,13.6323909],[100.8423042,13.6321042],[100.8420789,13.6320208],[100.8417195,13.6321251],[100.8416176,13.6320729],[100.841521,13.6318175],[100.8416122,13.6310824],[100.8415317,13.6306758],[100.8409363,13.6300919],[100.8405018,13.6300867],[100.8403248,13.6301857],[100.8401316,13.6306393],[100.8400297,13.6307488],[100.8395845,13.6307852],[100.8392331,13.6306236],[100.8391178,13.6305454],[100.8391124,13.6304333],[100.839445,13.6298051],[100.8394557,13.6296774],[100.8392197,13.6290466],[100.8390346,13.6285383],[100.839048,13.6283949],[100.8392519,13.6280743],[100.8392626,13.6279075],[100.8389836,13.6271463],[100.8389354,13.6266719],[100.8387905,13.6264425],[100.8382479,13.6261759],[100.8378402,13.6257588],[100.8378402,13.6254251],[100.8382264,13.6250915],[100.8385644,13.6246035],[100.8386341,13.6242365],[100.8385483,13.6240071],[100.8380333,13.6235691],[100.8376685,13.6229018],[100.8371053,13.6226849],[100.8366385,13.6221511],[100.8361021,13.6221719],[100.8360377,13.6216714],[100.8366385,13.6211292],[100.8366171,13.6205661],[100.8367029,13.6200656],[100.8371482,13.6195777],[100.8372608,13.6191282],[100.8373681,13.6186277],[100.8378616,13.6184401],[100.8379636,13.6181387],[100.8379694,13.6177056],[100.8380632,13.6175441],[100.8381679,13.6173876],[100.8383824,13.617492],[100.8386184,13.6175415],[100.8390638,13.617531],[100.8404478,13.6172312],[100.8411661,13.6167925],[100.8415738,13.6162295],[100.842003,13.6158124],[100.8423034,13.6153327],[100.842754,13.6150616],[100.8400982,13.6105287],[100.8399893,13.6100699],[100.8400427,13.609676],[100.8407316,13.6082952],[100.8409527,13.6067946],[100.8419551,13.6056209],[100.8420532,13.6044846],[100.841748,13.6035878],[100.8417424,13.6027011],[100.8415727,13.6015276],[100.8404569,13.6005265],[100.8395557,13.5985243],[100.8388262,13.5972729],[100.8368091,13.5957296],[100.835406,13.5935314],[100.8350358,13.5922488],[100.8348534,13.5908879],[100.8344538,13.5896585],[100.8323052,13.5841748],[100.8321335,13.5797947],[100.8323479,13.5790269],[100.8322845,13.5785507],[100.8313101,13.578576],[100.8304275,13.5782797],[100.8298907,13.5778109],[100.8294539,13.5771388],[100.8293548,13.5770524],[100.8297308,13.5768642],[100.8302136,13.5763324],[100.8304496,13.5755502],[100.8304907,13.5753578],[100.8255846,13.5734592],[100.8249484,13.5733623],[100.8243198,13.5733251],[100.8234799,13.5735262],[100.8232731,13.5736397],[100.8231963,13.5738343],[100.8232197,13.5739965],[100.8233448,13.5742674],[100.8237924,13.5744319],[100.8243424,13.5749399],[100.8244309,13.5753394],[100.8244509,13.5756572],[100.8242607,13.5758324],[100.8239171,13.5759297],[100.8236368,13.5757383],[100.8233565,13.575294],[100.8230361,13.5749566],[100.8228092,13.5748172],[100.8226283,13.574768],[100.8222099,13.5747054],[100.8217914,13.5743508],[100.8215769,13.5738502],[100.8216412,13.5732871],[100.8217485,13.5723693],[100.8220382,13.5716392],[100.8226498,13.5710865],[100.8229049,13.5710105],[100.8231433,13.5709509],[100.8239694,13.5708675],[100.8247741,13.5709196],[100.8260937,13.5712534],[100.8273992,13.5716122],[100.8284286,13.5720305],[100.8290118,13.5707311],[100.8294671,13.5699934],[100.8296948,13.5693716],[100.8297273,13.5685812],[100.829543,13.5671269],[100.8294129,13.5666421],[100.8290335,13.56621],[100.8277434,13.5652299],[100.8272122,13.5650191],[100.8263449,13.5649664],[100.8247187,13.5651245],[100.8225071,13.5651561],[100.8212278,13.5653248],[100.8203171,13.5655882],[100.8196341,13.5660203],[100.8187994,13.5665367],[100.8165877,13.5675484],[100.8153302,13.5681702],[100.8141268,13.5687393],[100.8095616,13.5704445],[100.8095288,13.5702175],[100.809164,13.5695396],[100.8086812,13.5689555],[100.8078551,13.5681316],[100.8068788,13.5670366],[100.8063745,13.5664316],[100.8058166,13.5658163],[100.8054197,13.5656703],[100.8052266,13.5652948],[100.8046687,13.5641684],[100.8039927,13.5625205],[100.8037153,13.562006],[100.8034724,13.5620095],[100.8026355,13.5620042],[100.8021045,13.5620303],[100.8013642,13.5623015],[100.8005863,13.5626092],[100.8001679,13.562776],[100.799948,13.5628073],[100.7995295,13.5627917],[100.7992184,13.5629064],[100.7990092,13.5631515],[100.798682,13.563673],[100.7981777,13.5644031],[100.7976144,13.5651592],[100.7972175,13.5657015],[100.7967186,13.5664107],[100.796268,13.5669531],[100.7958174,13.5656077],[100.7953668,13.5641893],[100.7949269,13.5627083],[100.7947767,13.5623745],[100.7945514,13.561926],[100.7940686,13.5603824],[100.7938218,13.5595689],[100.7935107,13.5586094],[100.793221,13.5577228],[100.792706,13.5561062],[100.7922983,13.5549276],[100.7919872,13.5538637],[100.7913971,13.5520333],[100.7912469,13.5516839],[100.7909518,13.5507608],[100.7904664,13.5493005],[100.7903981,13.5490079],[100.7901996,13.5484994],[100.7888827,13.5486924],[100.7888103,13.5504108],[100.7887539,13.5505542],[100.7881665,13.551094],[100.7878473,13.5513052],[100.7872036,13.5515294],[100.787107,13.5513365],[100.7869756,13.5511696],[100.7863802,13.5507002],[100.78623,13.5504864],[100.7859027,13.549579],[100.7857686,13.549506],[100.7829684,13.5498554],[100.7828182,13.5498032],[100.7823676,13.5494017],[100.781638,13.5492087],[100.7810574,13.5491963],[100.7810441,13.5493068],[100.7808134,13.5500734],[100.780454,13.5507722],[100.7804004,13.5512416],[100.7804111,13.5515493],[100.7743212,13.5530918],[100.7727331,13.5534911],[100.7721542,13.5536518],[100.7630312,13.5559516],[100.7630072,13.5559989],[100.7628781,13.5563691],[100.7627364,13.5569287],[100.7626454,13.5572002],[100.7626559,13.5573854],[100.762639,13.5575561],[100.7625311,13.5580046],[100.7624613,13.5585188],[100.762311,13.5589755]
                        ]]]
                    }
                }]
            },'type': "line", 'below': "traces", 'color': "green"},
            {'source': {
                'type': "FeatureCollection",
                'features': [{
                    'type': "Feature",
                    'geometry': {
                        'type': "MultiPolygon",
                        'coordinates': [[[
                            [100.464303222893,13.5002981241246],[100.4642743,13.5002954],[100.464263659358,13.5002926036314],[100.455,13.499],[100.445,13.553],[100.446,13.563],[100.448,13.582],[100.447,13.585],[100.449,13.588],[100.448,13.589],[100.452,13.594],[100.453,13.601],[100.455,13.604],[100.458,13.603],[100.463,13.605],[100.465,13.603],[100.466,13.596],[100.469,13.592],[100.475,13.594],[100.474,13.599],[100.476,13.601],[100.476,13.598],[100.48,13.597],[100.481,13.592],[100.488,13.589],[100.489,13.587],[100.497,13.587],[100.501,13.595],[100.505,13.597],[100.512,13.596],[100.514,13.602],[100.519,13.604],[100.523,13.604],[100.525,13.598],[100.527,13.598],[100.538,13.605],[100.54,13.608],[100.545,13.61],[100.552,13.617],[100.565,13.61],[100.583,13.61],[100.589,13.608],[100.592,13.602],[100.59,13.591],[100.577,13.573],[100.575,13.566],[100.577,13.556],[100.584,13.548],[100.593,13.542],[100.592,13.532],[100.586,13.52],[100.577,13.514],[100.57,13.512],[100.541,13.508],[100.498,13.505],[100.464303222893,13.5002981241246]
                        ]]]
                    }
                }]
            },'type': "line", 'below': "traces", 'color': "goldenrod"},
            {'source': {
                'type': "FeatureCollection",
                'features': [{
                    'type': "Feature",
                    'geometry': {
                        'type': "MultiPolygon",
                        'coordinates': [[[
                            [100.515,13.628],[100.519,13.634],[100.518,13.639],[100.516,13.639],[100.518,13.645],[100.517,13.655],[100.519,13.667],[100.522,13.668],[100.523,13.677],[100.533,13.669],[100.545,13.669],[100.552,13.677],[100.554,13.686],[100.552,13.7],[100.555,13.705],[100.562,13.705],[100.574,13.701],[100.585,13.694],[100.588,13.69],[100.588,13.683],[100.578,13.669],[100.591,13.663],[100.592,13.646],[100.587,13.632],[100.574,13.634],[100.57,13.638],[100.566,13.637],[100.562,13.633],[100.558,13.625],[100.555,13.622],[100.551,13.622],[100.549,13.616],[100.527,13.6],[100.525,13.606],[100.524,13.607],[100.522,13.606],[100.521,13.61],[100.518,13.613],[100.515,13.628]
                        ]]]
                    }
                }]
            },'type': "line", 'below': "traces", 'color': "magenta"},
            {'source': {
                'type': "FeatureCollection",
                'features': [{
                    'type': "Feature",
                    'geometry': {
                        'type': "MultiPolygon",
                        'coordinates': [[[
                            [100.730716557079,13.7169317564687],[100.7307354,13.7168447],[100.731651184941,13.7168427442913],[100.751,13.715],[100.765,13.716],[100.766,13.714],[100.782,13.716],[100.78,13.709],[100.784,13.706],[100.777,13.701],[100.762,13.675],[100.772,13.672],[100.775,13.674],[100.79,13.676],[100.793,13.666],[100.786,13.657],[100.785,13.651],[100.781,13.648],[100.782,13.634],[100.784,13.631],[100.783,13.62],[100.785,13.617],[100.785,13.614],[100.781,13.606],[100.782,13.603],[100.779,13.601],[100.778,13.597],[100.774,13.597],[100.772,13.595],[100.771,13.59],[100.769,13.589],[100.77,13.586],[100.769,13.583],[100.767,13.582],[100.761,13.559],[100.762,13.555],[100.771,13.553],[100.77,13.545],[100.763,13.531],[100.763,13.527],[100.766,13.523],[100.703,13.533],[100.704,13.538],[100.706,13.539],[100.709,13.545],[100.706,13.554],[100.704,13.555],[100.704,13.565],[100.7,13.576],[100.701,13.579],[100.699,13.581],[100.7,13.586],[100.698,13.588],[100.692,13.585],[100.688,13.587],[100.677,13.587],[100.677,13.592],[100.674,13.593],[100.674,13.599],[100.669,13.604],[100.669,13.608],[100.672,13.614],[100.671,13.615],[100.664,13.615],[100.662,13.618],[100.647,13.621],[100.63,13.629],[100.634,13.637],[100.643,13.647],[100.645,13.653],[100.65,13.651],[100.651,13.652],[100.652,13.661],[100.656,13.671],[100.659,13.669],[100.663,13.67],[100.666,13.668],[100.666,13.666],[100.675,13.663],[100.678,13.66],[100.699,13.655],[100.701,13.665],[100.706,13.672],[100.706,13.678],[100.706250890631,13.6786021375133],[100.7064487,13.6785618],[100.70648563849,13.6791655323771],[100.711,13.69],[100.711,13.696],[100.713,13.7],[100.711,13.716],[100.73,13.717],[100.730716557079,13.7169317564687]]],[[[100.677,13.587],[100.677,13.586],[100.676,13.586],[100.676,13.587],[100.677,13.587]                        ]]]
                    }
                }]
            },'type': "line", 'below': "traces", 'color': "blue"},
            {'source': {
                'type': "FeatureCollection",
                'features': [{
                    'type': "Feature",
                    'geometry': {
                        'type': "MultiPolygon",
                        'coordinates': [[[
                            [100.767412963549,13.5352388906465],[100.7674675,13.5353353],[100.767463110872,13.5353893326166],[100.77,13.543],[100.772,13.544],[100.773,13.552],[100.779,13.551],[100.78,13.548],[100.785422255261,13.5495492157888],[100.7857686,13.549506],[100.7859027,13.549579],[100.785945924833,13.5496988356666],[100.787,13.55],[100.788,13.548],[100.791,13.548],[100.796,13.564],[100.797,13.565],[100.798,13.562],[100.804,13.561],[100.81,13.569],[100.821,13.564],[100.83,13.565],[100.831,13.57],[100.829,13.573],[100.826,13.573],[100.831,13.574],[100.831,13.578],[100.833,13.578],[100.833,13.584],[100.836,13.593],[100.843,13.601],[100.843,13.606],[100.841,13.61],[100.844,13.616],[100.838,13.619],[100.84,13.629],[100.843,13.63],[100.842,13.641],[100.847,13.642],[100.85,13.648],[100.848,13.653],[100.852,13.661],[100.854,13.662],[100.855,13.666],[100.858,13.669],[100.86,13.669],[100.86,13.675],[100.858,13.68],[100.86,13.683],[100.862,13.696],[100.879,13.688],[100.954,13.662],[100.954,13.66],[100.952,13.659],[100.953,13.646],[100.963,13.644],[100.959,13.633],[100.942,13.618],[100.929,13.6],[100.926,13.599],[100.923,13.595],[100.918,13.596],[100.914,13.593],[100.906,13.593],[100.906,13.58],[100.913,13.577],[100.914,13.571],[100.908,13.564],[100.904,13.556],[100.898,13.559],[100.89,13.566],[100.888,13.564],[100.889,13.559],[100.886,13.558],[100.883,13.552],[100.878,13.548],[100.874,13.529],[100.871,13.524],[100.873,13.519],[100.871,13.516],[100.872,13.5],[100.87,13.49],[100.863,13.491],[100.859,13.485],[100.858,13.486],[100.849,13.484],[100.848,13.479],[100.814,13.487],[100.781,13.492],[100.782,13.5],[100.786,13.508],[100.785,13.511],[100.788,13.512],[100.788,13.514],[100.785,13.515],[100.785,13.517],[100.781,13.517],[100.78,13.519],[100.778,13.519],[100.777,13.522],[100.768,13.523],[100.765,13.528],[100.767412963549,13.5352388906465]]],[[[100.824,13.572],[100.823,13.572],[100.823,13.573],[100.824,13.572]
                        ]]]
                    }
                }]
            },'type': "line", 'below': "traces", 'color': "red"}                   
        ]
    })



app.layout = html.Div(children=[
    # html.H1(children='Hello Dash'),
    # html.Div(children='''
    #     Dash: A web application framework for your data.
    # '''),
    dcc.Graph(
        id='example-graph',
        figure=fig
    )
])

if __name__ == '__main__':
    app.run_server(debug=False, host="0.0.0.0", port=8080)